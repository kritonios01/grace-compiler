(library
	(name ast)
	(modules ast))

(library
	(name symbol)
	(modules symbol)
	(libraries ast))

(library
	(name semantic)
	(modules semantic)
	(libraries ast symbol))


(ocamllex lexer)

(menhir
 	(modules parser))



(executable
	(name main)
	(public_name main)
	(libraries 
			semantic 
			ast 
			symbol 
			llvm
			llvm.analysis
			;llvm.execution
			llvm.all_backends
			llvm.scalar_opts)
	(modules main parser lexer)
)

(executable
	(name compiler)
	(public_name compiler)
	(libraries 
			llvm
			llvm.scalar_opts
			llvm.all_backends
			llvm.analysis
			ast
			symbol
			semantic)
	(modules compiler)
)